<!DOCTYPE html>
<!-- saved from url=(0033)http://web.mit.edu/vtp/calc1.html -->
<html lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="http://web.mit.edu/docs-assets/ico/favicon.png">
        
    <script async="" src="./VTP - Election Toolkit_files/analytics.js"></script>
    <script src="https://kit.fontawesome.com/6364ea47c0.js" crossorigin="anonymous"></script>
    <script>	
        function settablemode( mode){
            var choice = mode.options[mode.selectedIndex].value;
            console.log(mode);
            console.log(choice);
			if(choice==="checkin"){
				    $("#PollingData th").eq(6).text("Number of check-in stations");
				    $("#PollingData th").eq(5).text("Average time for check-in");
				//$("#resultTable th").eq(3).text("Number of Check-In Stations required to meet the service level");
				} else if(choice=="voting") {
				    $("#PollingData th").eq(6).text("Number of voting stations");
				    $("#PollingData th").eq(5).text("Average time for voting");	
				//$("#resultTable th").eq(3).text("Number of voting stations required to meet the service level");
				} else {
                    $("#PollingData th").eq(6).text("Number of ballot scanners");
                    $("#PollingData th").eq(5).text("Average time for ballot scanning");   
                }
			}
	    
    </script>
    
    
   
	<script type="text/javascript">

		function clearTable() {
			$("#resultTable tbody tr").remove();
            $('#resultTable > tbody:last-child').append('<tr class="noDataLine"><td colspan="10" class="font-italic text-center">Table has no data</td></tr>');
		}

		function addDataToTable() {
			$("#resultTable tbody tr.noDataLine").hide();
			var $element = $("#resultTable tbody");

			// This part to be replaced with make table
	
			
			
		$("#calculate").click( function(evt){ makeTable(); } );
	
		}
		
	</script> 
    
    <!--
    <style media="screen">
		table {
			border: 1px solid #888;
		}
		table td {
			padding: 3px;
			background-color: #DDD;
			border: 1px solid #888;
			text-align:center;
		}
		table th {
			padding: 6px;
			text-align: center;
			background-color: #BBB;
			border: 1px solid #888;
		}
		table tr.noDataLine td {
			background-color: #FFFF00;
			font-style: italic;
			color: rgb(34,108,24);
		}
	</style>
-->
    	

    <title>VTP - Election Toolkit </title>

    <!-- Bootstrap core CSS -->
    <link href="./VTP - Election Toolkit_files/bootstrap.css" rel="stylesheet">
    <link href="./VTP - Election Toolkit_files/interactiveTable.css" rel="stylesheet">
    



	<!-- <title>Voting Technology Project - Line Optimization and Poll Worker Management</title>
    -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
  
  
  
<body class="home no-bg">
<a name="top"></a>
	<div class="wrapper">
		<div class="header"> 
				<nav class="navbar navbar-expand-sm bg-dark">
  <!-- Brand and toggle get grouped for better mobile display -->
					<div class="navbar-header">
						<a class="navbar-brand" style="color:white; font:Segoe, &#39;Segoe UI&#39;, &#39;DejaVu Sans&#39;, &#39;Trebuchet MS&#39;, Verdana, sans-serif; text-decoration:none" href="http://web.mit.edu/vtp/calc1.html#home">Socially Distanced Polling Place Queue Model</a>
					</div>
				</nav>
		</div><!-- /.header -->

    <!-- /.section -->

        <div class="container">
      	  <br>
          <div class="row">
              <div class ="col-12">
                  <h2 align="left" class="section-title-noline"> COVID-19 Polling Place Queue Length Model</h2>
                  <p>
                      
                  </p>
              </div>
              <!--<div class ="col-6 col-lg-6 text-center">
                <h3 align="left">Input Data Description</h3>
                <h4 align="left">Polling Place Characteristics</h4>
                <ol align="left">
                    <li><b>Building Capacity:</b> The total number of people allowed in the polling place at any time</li>
                    <li><b>Election Staff:</b> The maximum number of non-voters expected to be in the building at any time</li>
                    <li><b>Voter Stations:</b> The total number of different places a voter could be while not in line, including bottleneck stations </li>
                    <li><b>Bottleneck Service Statistics:</b> The number of stations and average service time on the slowest step in the voting process (e.g. check in). For more information, see  <a href="http://web.mit.edu/vtp/calc1.html#home">the Voting Technology Project's previous voter queue calulator</a></li>
                </ol>
                <h4 align="left">Voter Behavior Characteristics</h4>
                <ol align="left">
                    <li><b>Arrival Rate:</b> The average rate (voters/hour) that arrive at the polling place and consider joining the line</li>
                    <li><b>Outside Line Entry Chance:</b> The chance that an arriving voter will join the unofficial line outside the polling place when the building is at capacity</li>
                </ol>
              </div>-->
              <div class ="col-12 col-sm-4">
                Polling places will allow fewer people inside with social distancing measures. This will increase both physical line lengths and wait times, which may require finding new places for voters to wait.
                <br><br> 
                <h5>Use This Tool To:</h5>
                <ul align="left">
                    <li>Estimate outside queue capacity needs</li>
                    <li>Estimate average wait times</li>
                    <li>Estimate how many voters wait too long</li>
                </ul>
              </div>
              <div class ="col-12 col-sm-8 text-center">
                <h4>Example Maximum Queue Size Calculation</h4>
                <img src="./VTP - Election Toolkit_files/Precinct_Capacity_Example_v2.svg" class="img-fluid" alt="Responsive image" width="95%" >
              </div>
          </div>


			<div class="row">

				<div class="col-12"><br>

				<div id="PollingData">
				<h2 align="left" class="section-title-noline">Enter Data</h2>

             
                        <button class="table-add float-right btn btn-primary btn-xs" data-toggle="tooltip" data-placement = "top" title="Adds a row">
                            <i class="far fa-plus"></i> 
                            Add Polling Place
                        </button>
                      	<form name="linetypeform">
                        	Select Bottleneck: 
                            <!--<i class="far fa-question-circle" data-toggle="tooltip" data-placement = "top" title="To find the bottleneck, calculate the service rate of each step (# of stations / average service time) and choose the step with the lowest service rate"></i>-->
                            <select class="bootstrap-select" id="bottleneckselect" data-toggle="tooltip" data-placement = "top" title="This model assumes Check In is the bottleneck. You may select a different bottleneck to update the column headers. The math will not change--see below for a description of the assumptions">
                                <option value="checkin" selected="selected">Check In</option>
                                <option value="voting" class="text-secondary">Voting Machines/Booths</option>
                                <option value="scanning" class="text-secondary">Ballot Scanners</option>
                            </select>

						</form>    
						<br> 
                                
           				<button id="clear" class = "btn btn-sm btn-warning">Clear Data</button>
                        <br>

                        
                        <table id="inputTable" class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th data-toggle="tooltip" data-placement = "top" title="Name or Number of Polling Place">Polling Place</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Room capacity with social distancing measures">Room Capacity</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Maximum number of staff in room during voting">Staff in Room</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Number of places a voter can be while in the voting process (e.g. Check-in stations + voting booths + ballot scanners)">Voter Processing Points</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Calculated based on three previous inputs">Inside Queue Capacity</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Number of places a voter may check in">Number of Check-In Stations</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Average time to check in including all activities between starting a given voter and starting the next voter. VTP recommends using a weighted average of all voter types (e.g. provisional or not)">Average time for check-in</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Hourly arrival rate of voters. VTP recommends using an upper limit like the busiest 2 hour period">Arrival rate</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Tool will calculate % of voters with a wait time above the target">Target wait time</th>
                                    <th>Alert</th>
                                    <!--<th>Outside Line Entry Chance [0,1]</th>-->
                                    <th>Delete Row</th>
                                </tr>
                                <tr class = 'small'>
                                    <th></th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Positive Integer"># of people</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Non-negative Integer"># of people</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Positive Integer"># of people</th>
                                    <th># of people</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Positive Integer"># of stations</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Any Positive Number">minutes</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Any Positive Number">voters per hour</th>
                                    <th data-toggle="tooltip" data-placement = "top" title="Any Positive Number">minutes</th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            
                            <tbody>
                                <!--
                                <tr>
                                    <td><input type = "text" class = "form-control input-sm searchresult"/></td>
                                    <td><input class = "form-control input-sm changers" type="number"/></td>
                                    <td><input class = "form-control input-sm changers" type="number"/></td>
                                    <td><input class = "form-control input-sm changers" type="number"/></td>
                                    <td class = "qcap" style="text-align:center" contenteditable="false">HERE</td>
                                    <td><input class = "form-control input-sm" type="number"/></td>
                                    <td><input class = "form-control input-sm" type="number"/></td>
                                    <td><input class = "form-control input-sm" type="number"/></td>
                                    <td><input class = "form-control input-sm" type="number"/></td>
                                    <td class="controls">
                                        <button class="table-remove btn btn-warning btn-xs"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                            -->
                                <tr class="empty">
                                    <td colspan="11" class = "font-italic text-center">
                                        Please add rows by pressing the +Add Polling Place button
                                    </td>
                                </tr>
                             </tbody>
                        </table>
                    
                    
						<button id="calculate" class="btn btn-large btn-info"  data-toggle="tooltip" data-placement = "top" title="Populate Results Table">Calculate</button>
                        
                    </div> <!-- End Interactive Table div -->
                </div><!-- End Column div -->
            </div><!-- End Row div --> 
			<hr>
            <div class="row">
                <div class="col-sm-12 col-12 col-md-12"><br>
				    <h2 align="left" class="section-title-noline"><b>Results</b></h2>
				    <button onclick="clearTable();" class = "btn btn-sm btn-warning">Clear Data</button>

                        <table id="resultTable" class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>Precinct</th>
                                        <th>Average Total Wait Time (minutes)</th>
                                        <!--<th>Average Time in System (minutes)</th>-->
                                        <!--<th>Expected Voters in System</th>-->
                                        <th>Average Total Queue Length</th>
                                        <th>Average Outside Queue Length</th>
                                        <!--<th>Probability of no wait</th>-->
                                        <th>Percent of time room is full</th>
                                        <!--<th>Effective Arrival Rate</th>-->
                                        <th>Chance Voter Waits Longer than Target</th>
                                        <th>Alert</th>
                                    </tr>
                                </thead>
                                <tbody>                 
                                    <tr class="noDataLine">
                                        <td colspan="10" class="font-italic text-center">Table has no data</td>
                                    </tr>
                                </tbody>              
                        </table>
                </div><!-- End Column div -->
            </div><!-- End Row div -->
            <br><br>
            <div class="row">
                
                <!--<div class="col-sm-12 col-12 col-md-1"></div>-->


                <div class="col-sm-12 col-12 col-md-12">
                    <br>
                    <h2 align="left" class="section-title-noline">Model Assumptions</h2>
                    <p> This tool uses queueing theory to model a polling site which limits the number of voters that may be present at any one time. </p>
                    <p> The tool evaluates a classic queuing model, known as an “M/M/k system with a finite waiting room.”   For modeling a polling site, we assume that voters arrive at a random rate, and join a single queue that is being served by a set of parallel stations or servers. In a polling site, we assume that the check in station is the bottleneck, as seems to be the case in many polling places.  The model may still be useful if the bottleneck is at another stip, though we do not account for effects such as a line backing up through previous steps.</p>
                    <p> In addition for this model, we assume that the polling site has a maximum occupancy, and will limit the number of voters that can be in the site at any time.  We capture this in the model by imposing a limit on the number of voters that can be in line waiting at any point in time. As a conservative estimate, we assume that all voting booths and scanning machines always have one voter and thus reduce the number allowed to wait in line.</p>
                    <p>  In addition to using the tool on this web page, you can download an Excel spreadsheet that will perform the same calculations.  One advantage of the spreadsheet is that it is easier to analyze multiple precincts at one time.</p>

                    <br>
                    <h4 style="color:#122336">Developers: Stephen Graves and Colin McIntyre</h4>
                    <br>
                    <button id="download" class="btn btn-large btn-info">Download Excel Macro</button><br><br>
                    <a href="http://web.mit.edu/vtp/feedback.html" button="" class="btn btn-large btn-success">Close Calculator and return to main page</a><br><br>
                    <!--<a href="http://web.mit.edu/vtp/calc1.html#videos" button="" class="btn btn-large btn-warning smoothScroll">View Instructional Videos</a><br><br>-->
                </div> <!--Column Div  -->
            </div><!--Row Div  -->


<!--
	<a name="videos"></a>   

  	<div class="row">
		<br><br>
            <div class="col-md-12"><br>
				<h2 align="center" class="section-title-noline"><b>Instructional Videos</b></h2>
            </div>    
    
    
			<div class="box center col-sm-12 col-12 col-md-12">
				<p align="center">Part 1</p>
      			<div id="video1">
                    <iframe width="1140" height="645" src="./VTP - Election Toolkit_files/KgiYqhHN_gA.html" frameborder="2"></iframe>
                    <br><br>
                </div>  
				<a href="http://web.mit.edu/vtp/calc1.html#top" button="" class="btn btn-large smoothScroll">Back to Top</a><br><br>         
				
                <p align="center">Part 2</p>
          		<div id="video2">
                    <iframe width="1140" height="645" src="./VTP - Election Toolkit_files/YkvWzzv_a8A.html" frameborder="1"></iframe>
    				<br><br>
                </div> 
				<a href="http://web.mit.edu/vtp/calc1.html#top" button="" class="btn btn-large smoothScroll">Back to Top</a><br><br>         
              
                
				<p align="center">Part 3</p>
    			<div id="video3">
                    <iframe width="1140" height="645" src="./VTP - Election Toolkit_files/g7vk2DPwfpU.html" frameborder="1"></iframe>
                    <br><br>               
                </div>                 
				<a href="http://web.mit.edu/vtp/calc1.html#top" button="" class="btn btn-large smoothScroll">Back to Top</a><br><br>   
            </div><-- /.box ->change comment
    </div><-- /.row ->change comment

-->

    </div><!-- /.container -->            
                
	</div><!-- /.wrapper --> 

      <!-- Site footer -->

	<div class="footer">
	</div>  

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    

    
		<script src="./VTP - Election Toolkit_files/jquery-3.5.1.min.js"></script>  
        <script src="./VTP - Election Toolkit_files/dataframe.min.js"></script>
        <script src="./VTP - Election Toolkit_files/bootstrap.bundle.min.js"></script>
        <script src="./VTP - Election Toolkit_files/popper.min.js"></script>
        <script src="./VTP - Election Toolkit_files/InteractiveTable.js"></script>
        <script src="./VTP - Election Toolkit_files/graves.js" type="text/javascript"></script>
        <script src="./VTP - Election Toolkit_files/tableMaker.js" type="text/javascript"></script>
       	<script type="text/javascript" src="./VTP - Election Toolkit_files/smoothscroll.js"></script>

        

        <script>
			var table;
			$(document).ready( function() {
				table = InteractiveTable.new($("#PollingData"));
                //$("#PollingData").change(function(evt){table.update();});
				$("#clear").click( function(evt){ table.clear(); } );
				$("#calculate").click( function(evt){ makeTable(); } );
				$('.dropdown-toggle').dropdown(); 
				$("#download").click(function(){window.open("./FiniteWaitingRoom_CalculationMacro.xlsm");});
				
				$("#bottleneckselect").on("change", function(){settablemode(document.getElementById("bottleneckselect"));});
				$("#votingmachine-label").click(function(){settablemode("voting");});
                $("#scanning-label").click(function(){settablemode("scanner");});

				//settablemode("checkin");
				
			});
					
			
        </script>     

        <script type="text/javascript">
            //var container = document.querySelector('#inputTable');
            //var matches = container.querySelectorAll('td');
            //matches.addEventListener("input", function(){
            //    alert("Hello");
            //});
        </script>
            
        <script type="text/javascript">
            $(function () {
                $('[data-toggle="tooltip"]').tooltip();
            });
        </script>

        <!-- Google Analytics -->
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        
        ga('create', 'UA-XXXXX-Y', 'auto');
        ga('send', 'pageview');
        </script>
        <!-- End Google Analytics -->


        
    
  

</div></body></html>
